{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\steam\\\\OneDrive\\\\\\u0420\\u043E\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u0456\\u043B\\\\Dev\\\\rr\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport HarryPotter from \"./img/1.jpeg\";\nimport TheArtofWar from \"./img/2.jpg\";\nimport FightClub from \"./img/3.png\";\nimport Like from \"./img/like.svg\";\nimport Box from \"./img/box.png\";\n\nfunction App() {\n  const books = [{\n    id: 10000,\n    category: 'adventure',\n    image: HarryPotter,\n    heading: \"Harry Potter\",\n    description: 'Throughout the series, Harry is described as having his father\\'s perpetually untidy black hair, his mother\\'s bright green eyes, and a lightning bolt-shaped scar on his forehead. He is further described as \"small and skinny for his age\" with \"a thin face\" and \"knobbly knees\", and he wears round eyeglasses.'\n  }, {\n    id: 10001,\n    category: 'detective',\n    image: TheArtofWar,\n    heading: \"The art of war\",\n    description: 'The Art of War is an ancient Chinese military treatise dating from the Late Spring and Autumn Period (roughly 5th century BC). The work, which is attributed to the ancient Chinese military strategist Sun Tzu (\"Master Sun\", also spelled Sunzi), is composed of 13 chapters.'\n  }, {\n    id: 10002,\n    category: 'roman',\n    image: FightClub,\n    heading: \"Fight club\",\n    description: 'Fight Club is a 1996 novel by Chuck Palahniuk. It follows the experiences of an unnamed protagonist struggling with insomnia. Inspired by his doctor\\'s exasperated remark that insomnia is not suffering, the protagonist finds relief by impersonating a seriously ill person in several support groups.'\n  }];\n  const markup = {\n    book: ({\n      id,\n      heading,\n      description,\n      image\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-wrapper book-wrapper__grid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-image-wrapper\",\n        style: {\n          backgroundImage: `url(${image})`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 16\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"book-heading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 16\n        }\n      }, heading), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 16\n        }\n      }, description)), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"book-to-favorite\",\n        dataId: id,\n        onClick: () => setFavoritesId(prev => [...prev, id]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Like,\n        className: \"book-to-favorite-img\",\n        alt: \"Add to favorite\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }\n      }), \"Add to favorite\"));\n    },\n    favorites: ({\n      id,\n      heading,\n      image\n    }) => {\n      return /*#__PURE__*/React.createElement(\"table\", {\n        className: \"favorites-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"favorites-img-img\",\n        src: image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 58\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 28\n        }\n      }, heading), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-del\",\n        dataId: id,\n        onClick: () => setFavoritesId(favoritesBooksId.filter(listedId => listedId != id), //incorrect deletion\n        console.log(favoritesBooksId) // how to get ID from arr of Objects?\n        ),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 28\n        }\n      }, \"X\")));\n    }\n  };\n  const [favoritesBooksId, setFavoritesId] = useState([]);\n  const [filter, setFilter] = useState('all');\n  console.log(filter); // double rendering\n\n  const renderedBooks = [];\n  const renderedFav = [];\n\n  const renderFavorites = () => {\n    renderedFav.push(favoritesBooksId.map(id => books.filter(book => book.id == id).map(book => markup.favorites(book))));\n    console.log(renderedFav);\n  };\n\n  renderFavorites();\n\n  const renderBooks = books => {\n    renderedBooks.length = 0;\n\n    if (filter === 'all') {\n      books.forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter === 'adventure') {\n      books.filter(book => book.category === 'adventure').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter === 'detective') {\n      books.filter(book => book.category === 'detective').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter === 'roman') {\n      books.filter(book => book.category === 'roman').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n  };\n\n  document.body.addEventListener('click', event => {\n    if (event.path.includes(document.querySelector('.favorites'))) {\n      event.preventDefault();\n      return false;\n    }\n\n    document.querySelector('.favorites-info').classList.remove('favorites-info__visible');\n  }); // const renderFavorites = () => {\n  //    const favoritesBooks = JSON.parse(localStorage.favoritesBooks || '[]')\n  //    document.getElementsByClassName('.favorites').innerHTML = markup.favorites(favoritesBooks)\n  // }\n\n  renderBooks(books);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 16\n    }\n  }, \"Choose what you love\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter\",\n    onChange: e => {\n      setFilter(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"all\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, \"All that we love\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"adventure\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, \"Adventures\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"detective\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, \"Detectives\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"roman\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, \"Romans\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites-icon-wrapper\",\n    onClick: () => {\n      document.querySelector('.favorites-info').classList.toggle('favorites-info__visible');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, favoritesBooksId.length || 0), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"favorites-icon\",\n    src: Box,\n    alt: \"Favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"favorites-books\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"favorites-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 28\n    }\n  }, \"Photo\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"favorites-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 28\n    }\n  }, \"Book title\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"favorites-del\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 28\n    }\n  }, \"Del\"))), renderedFav)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"books-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 10\n    }\n  }, renderedBooks));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/steam/OneDrive/Робочий стіл/Dev/rr/src/App.js"],"names":["React","useState","HarryPotter","TheArtofWar","FightClub","Box","App","books","id","category","image","heading","description","markup","book","backgroundImage","setFavoritesId","prev","Like","favorites","favoritesBooksId","filter","listedId","console","log","setFilter","renderedBooks","renderedFav","renderFavorites","push","map","renderBooks","length","forEach","document","body","addEventListener","event","path","includes","querySelector","preventDefault","classList","remove","e","target","value","toggle"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport HarryPotter from \"./img/1.jpeg\";\nimport TheArtofWar from \"./img/2.jpg\";\nimport FightClub from \"./img/3.png\";\nimport Like from \"./img/like.svg\";\nimport Box from \"./img/box.png\"\n\n\n\nfunction App() {\n   const books = [{\n      id: 10000,\n      category: 'adventure',\n      image: HarryPotter,\n      heading: \"Harry Potter\",\n      description: 'Throughout the series, Harry is described as having his father\\'s perpetually untidy black hair, his mother\\'s bright green eyes, and a lightning bolt-shaped scar on his forehead. He is further described as \"small and skinny for his age\" with \"a thin face\" and \"knobbly knees\", and he wears round eyeglasses.'\n   }, {\n      id: 10001,\n      category: 'detective',\n      image: TheArtofWar,\n      heading: \"The art of war\",\n      description: 'The Art of War is an ancient Chinese military treatise dating from the Late Spring and Autumn Period (roughly 5th century BC). The work, which is attributed to the ancient Chinese military strategist Sun Tzu (\"Master Sun\", also spelled Sunzi), is composed of 13 chapters.'\n   }, {\n      id: 10002,\n      category: 'roman',\n      image: FightClub,\n      heading: \"Fight club\",\n      description: 'Fight Club is a 1996 novel by Chuck Palahniuk. It follows the experiences of an unnamed protagonist struggling with insomnia. Inspired by his doctor\\'s exasperated remark that insomnia is not suffering, the protagonist finds relief by impersonating a seriously ill person in several support groups.'\n   }\n   ]\n   \n   const markup = {\n      book: ({id, heading, description, image}) => {\n         return (\n         <div className=\"book-wrapper book-wrapper__grid\">\n            <div className=\"book-info\">\n               <div className=\"book-image-wrapper\" style={{backgroundImage: `url(${image})`}}>\n               </div>\n               <h3 className=\"book-heading\">\n                  {heading}\n               </h3>\n               <div className=\"book-description\">\n                  {description}\n               </div>\n            </div>\n            <button className=\"book-to-favorite\" dataId={id} onClick={() => setFavoritesId(\n               prev => [...prev, id])}> \n               <img src={Like} className=\"book-to-favorite-img\" alt=\"Add to favorite\"/>\n               Add to favorite\n            </button>\n         </div>\n         )\n      },\n      favorites: ({id, heading, image}) => {\n         return(\n               <table className=\"favorites-books\">\n                        <tr>\n                           <td className=\"favorites-img\"><img className=\"favorites-img-img\" src={image}/></td>\n                           <td className=\"favorites-name\">{heading}</td>\n                           <td className=\"favorites-del\" dataId={id} onClick={() => \n                           setFavoritesId(\n                              favoritesBooksId.filter(listedId => listedId != id),//incorrect deletion\n                              console.log(favoritesBooksId) // how to get ID from arr of Objects?\n                            )}\n                            >X</td>\n                        </tr>\n               </table>\n         )\n      }\n   } \n   \n   const [favoritesBooksId, setFavoritesId] = useState([])\n   const [filter, setFilter] = useState('all')\n   console.log(filter) // double rendering\n\n   const renderedBooks = []\n\n   const renderedFav = []\n   const renderFavorites = () =>{\n     renderedFav.push(favoritesBooksId.map(id => books.filter(book => book.id == id).map(book => markup.favorites(book))))\n      console.log(renderedFav)\n   }\n   renderFavorites()\n   \n   const renderBooks = (books) => {\n      renderedBooks.length = 0\n      if (filter === 'all'){\n         books.forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter === 'adventure'){\n         books.filter(book => book.category === 'adventure').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter === 'detective'){\n        books.filter(book => book.category === 'detective').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter === 'roman'){\n         books.filter(book => book.category === 'roman').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n   }\n\n   document.body.addEventListener('click', (event) => {\n      if (event.path.includes(document.querySelector('.favorites'))) {\n         event.preventDefault();\n         return false;\n      }\n       document.querySelector('.favorites-info').classList.remove('favorites-info__visible')\n    })\n\n   // const renderFavorites = () => {\n   //    const favoritesBooks = JSON.parse(localStorage.favoritesBooks || '[]')\n   //    document.getElementsByClassName('.favorites').innerHTML = markup.favorites(favoritesBooks)\n   // }\n   \n   renderBooks(books)\n\n  return(\n     \n      <div>\n         <div className=\"header\">\n            <div className=\"filters\">\n               <p>Choose what you love</p>\n               <select className=\"filter\" onChange={(e) => {setFilter(e.target.value)}}>\n                  <option value=\"all\">All that we love</option>\n                  <option value=\"adventure\">Adventures</option>\n                  <option value=\"detective\">Detectives</option>\n                  <option value=\"roman\">Romans</option>\n               </select>\n            </div>\n            <div className=\"favorites\">\n               <div className=\"heart\">\n                  <div className=\"favorites-icon-wrapper\" onClick={() => {\n                     document.querySelector('.favorites-info').classList.toggle('favorites-info__visible')\n                  }}>\n                  <div className=\"count\">{favoritesBooksId.length || 0}</div>  \n                  <img className=\"favorites-icon\" src={Box} alt=\"Favorites\" />\n               </div>\n                  <div className=\"favorites-info\">\n                  <table className=\"favorites-books\">\n                        <tr>\n                           <td className=\"favorites-img\">Photo</td>\n                           <td className=\"favorites-name\">Book title</td>\n                           <td className=\"favorites-del\">Del</td>\n                        </tr>\n               </table>\n                  {renderedFav} \n                  </div>\n               </div>\n            </div>\n         </div>\n         <div className=\"books-list\">\n            {renderedBooks}\n         </div>\n      </div> \n   )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}