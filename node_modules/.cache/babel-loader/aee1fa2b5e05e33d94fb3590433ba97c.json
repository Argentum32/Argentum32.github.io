{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\steam\\\\OneDrive\\\\\\u0420\\u043E\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u0456\\u043B\\\\Dev\\\\rr\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport HarryPotter from \"./img/1.jpeg\";\nimport TheArtofWar from \"./img/2.jpg\";\nimport FightClub from \"./img/3.png\";\nimport Like from \"./img/like.svg\";\nimport Box from \"./img/box.png\";\nsetPull(() => {\n  return data.photos.map(photo => /*#__PURE__*/React.createElement(\"img\", {\n    className: \"photo\",\n    src: photo.img_src,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 48\n    }\n  }));\n});\nconst BOOKS_PAGE = '1lxN9WC-43jwJhJsC6bJYK63wCNnjOvLSgEMwzrDbkMA';\nconst API_KEY = 'AIzaSyBnsI4y-0LvVLPfxRK1Iu16h-xtxKH4KRc';\nconst [books, setBooks] = useState([]);\n\nconst getBooks = async e => {\n  preventDefault(e);\n  const respons = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${BOOKS_PAGE}/values/Books!A2:D1000?majorDimension=ROWS&key=${API_KEY}`);\n  const data = await respons.json();\n  setBooks(() => {\n    return data.values.map((book, index) => {\n      id: index + 100;\n\n      category: book[0];\n\n      image: book[1];\n\n      heading: book[2];\n\n      description: book[3];\n    });\n  });\n  console.log(books);\n  return books;\n};\n\ngetBooks();\n\nfunction App() {\n  const markup = {\n    book: ({\n      id,\n      heading,\n      description,\n      image\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-wrapper book-wrapper__grid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-image-wrapper\",\n        style: {\n          backgroundImage: `url(${image})`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"book-heading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }\n      }, heading), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"book-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 19\n        }\n      }, description)), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"book-to-favorite\",\n        dataId: id,\n        onClick: () => setFavoritesId(prev => [...prev, id]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Like,\n        className: \"book-to-favorite-img\",\n        alt: \"Add to favorite\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }\n      }), \"Add to favorites\"));\n    },\n    favorites: ({\n      id,\n      heading,\n      image\n    }) => {\n      return /*#__PURE__*/React.createElement(\"table\", {\n        className: \"favorites-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"favorites-img-img\",\n        src: image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }\n      }, heading), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-del\",\n        dataId: id,\n        onClick: () => setFavoritesId(favoritesBooksId.filter(listedId => listedId != id)),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }\n      }, \"X\")));\n    }\n  };\n  const [favoritesBooksId, setFavoritesId] = useState([]);\n  const [filter, setFilter] = useState('all');\n  console.log(filter); // double rendering\n\n  const renderedBooks = [];\n  const renderedFav = [];\n\n  const renderFavorites = () => {\n    renderedFav.push(favoritesBooksId.map(id => books.filter(book => book.id == id).map(book => markup.favorites(book))));\n  };\n\n  const renderBooks = books => {\n    renderedBooks.length = 0;\n\n    if (filter === 'all') {\n      books.forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter === 'adventure') {\n      books.filter(book => book.category === 'adventure').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter === 'detective') {\n      books.filter(book => book.category === 'detective').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter === 'roman') {\n      books.filter(book => book.category === 'roman').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n  };\n\n  document.body.addEventListener('click', event => {\n    if (event.path.includes(document.querySelector('.favorites'))) {\n      event.preventDefault();\n      return false;\n    }\n\n    document.querySelector('.favorites-info').classList.remove('favorites-info__visible');\n  }); // const renderFavorites = () => {\n  //    const favoritesBooks = JSON.parse(localStorage.favoritesBooks || '[]')\n  //    document.getElementsByClassName('.favorites').innerHTML = markup.favorites(favoritesBooks)\n  // }\n\n  renderBooks(books);\n  renderFavorites();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 16\n    }\n  }, \"Choose what you love\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter\",\n    onChange: e => {\n      setFilter(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"all\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, \"All that we love\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"adventure\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, \"Adventures\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"detective\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, \"Detectives\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"roman\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, \"Romans\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites-icon-wrapper\",\n    onClick: () => {\n      document.querySelector('.favorites-info').classList.toggle('favorites-info__visible');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, favoritesBooksId.length || 0), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"favorites-icon\",\n    src: Box,\n    alt: \"Favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"favorites-books\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"favorites-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 28\n    }\n  }, \"Photo\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"favorites-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 28\n    }\n  }, \"Book title\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"favorites-del-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 28\n    }\n  }, \"Del\"))), renderedFav)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"books-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 10\n    }\n  }, renderedBooks));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/steam/OneDrive/Робочий стіл/Dev/rr/src/App.js"],"names":["React","useState","HarryPotter","TheArtofWar","FightClub","Box","setPull","data","photos","map","photo","img_src","BOOKS_PAGE","API_KEY","books","setBooks","getBooks","e","preventDefault","respons","fetch","json","values","book","index","id","category","image","heading","description","console","log","App","markup","backgroundImage","setFavoritesId","prev","Like","favorites","favoritesBooksId","filter","listedId","setFilter","renderedBooks","renderedFav","renderFavorites","push","renderBooks","length","forEach","document","body","addEventListener","event","path","includes","querySelector","classList","remove","target","value","toggle"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,WAAP,MAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,OAAOC,GAAP,MAAgB,eAAhB;AAEAC,OAAO,CAAC,MAAM;AAAC,SAAOC,IAAI,CAACC,MAAL,CAAYC,GAAZ,CAAgBC,KAAK,iBAAI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,GAAG,EAAEA,KAAK,CAACC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzB,CAAP;AAA8E,CAAtF,CAAP;AAEA,MAAMC,UAAU,GAAG,8CAAnB;AACA,MAAMC,OAAO,GAAG,yCAAhB;AACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;;AACG,MAAMe,QAAQ,GAAG,MAAOC,CAAP,IAAa;AAC3BC,EAAAA,cAAc,CAACD,CAAD,CAAd;AACA,QAAME,OAAO,GAAG,MACbC,KAAK,CAAE,iDAAgDR,UAAW,kDAAiDC,OAAQ,EAAtH,CADR;AAEA,QAAMN,IAAI,GAAG,MAAMY,OAAO,CAACE,IAAR,EAAnB;AACAN,EAAAA,QAAQ,CAAC,MAAM;AAAC,WAAOR,IAAI,CAACe,MAAL,CAAYb,GAAZ,CAAgB,CAACc,IAAD,EAAOC,KAAP,KAAe;AAChDC,MAAAA,EAAE,EAAED,KAAK,GAAG,GAAR;;AACJE,MAAAA,QAAQ,EAAEH,IAAI,CAAC,CAAD,CAAJ;;AACVI,MAAAA,KAAK,EAAEJ,IAAI,CAAC,CAAD,CAAJ;;AACPK,MAAAA,OAAO,EAAEL,IAAI,CAAC,CAAD,CAAJ;;AACTM,MAAAA,WAAW,EAAEN,IAAI,CAAC,CAAD,CAAJ;AACf,KANmB,CAAP;AAMV,GANE,CAAR;AAQAO,EAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AACA,SAAOA,KAAP;AACF,CAfD;;AAgBAE,QAAQ;;AAGX,SAASgB,GAAT,GAAe;AAEZ,QAAMC,MAAM,GAAG;AACZV,IAAAA,IAAI,EAAE,CAAC;AAACE,MAAAA,EAAD;AAAKG,MAAAA,OAAL;AAAcC,MAAAA,WAAd;AAA2BF,MAAAA;AAA3B,KAAD,KAAuC;AAC1C,0BACG;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAoC,QAAA,KAAK,EAAE;AAACO,UAAAA,eAAe,EAAG,OAAMP,KAAM;AAA/B,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,eAGG;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACIC,OADJ,CAHH,eAMG;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACIC,WADJ,CANH,CADH,eAWG;AAAQ,QAAA,SAAS,EAAC,kBAAlB;AAAqC,QAAA,MAAM,EAAEJ,EAA7C;AAAiD,QAAA,OAAO,EAAE,MAAMU,cAAc,CAACC,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAUX,EAAV,CAAT,CAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAK,QAAA,GAAG,EAAEY,IAAV;AAAgB,QAAA,SAAS,EAAC,sBAA1B;AAAiD,QAAA,GAAG,EAAC,iBAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,qBAXH,CADH;AAkBF,KApBW;AAqBZC,IAAAA,SAAS,EAAE,CAAC;AAACb,MAAAA,EAAD;AAAKG,MAAAA,OAAL;AAAcD,MAAAA;AAAd,KAAD,KAA0B;AAClC,0BACG;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA8B;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAmC,QAAA,GAAG,EAAEA,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9B,CADH,eAEG;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCC,OAAhC,CAFH,eAGG;AAAI,QAAA,SAAS,EAAC,eAAd;AAA8B,QAAA,MAAM,EAAEH,EAAtC;AAA0C,QAAA,OAAO,EAAE,MACnDU,cAAc,CACXI,gBAAgB,CAACC,MAAjB,CAAwBC,QAAQ,IAAIA,QAAQ,IAAIhB,EAAhD,CADW,CADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHH,CADH,CADH;AAaF;AAnCW,GAAf;AAsCA,QAAM,CAACc,gBAAD,EAAmBJ,cAAnB,IAAqClC,QAAQ,CAAC,EAAD,CAAnD;AACA,QAAM,CAACuC,MAAD,EAASE,SAAT,IAAsBzC,QAAQ,CAAC,KAAD,CAApC;AACA6B,EAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ,EA1CY,CA0CQ;;AAEpB,QAAMG,aAAa,GAAG,EAAtB;AACA,QAAMC,WAAW,GAAG,EAApB;;AACA,QAAMC,eAAe,GAAG,MAAK;AAC3BD,IAAAA,WAAW,CAACE,IAAZ,CAAiBP,gBAAgB,CAAC9B,GAAjB,CAAqBgB,EAAE,IAAIX,KAAK,CAAC0B,MAAN,CAAajB,IAAI,IAAIA,IAAI,CAACE,EAAL,IAAWA,EAAhC,EAAoChB,GAApC,CAAwCc,IAAI,IAAIU,MAAM,CAACK,SAAP,CAAiBf,IAAjB,CAAhD,CAA3B,CAAjB;AACD,GAFD;;AAIA,QAAMwB,WAAW,GAAIjC,KAAD,IAAW;AAC5B6B,IAAAA,aAAa,CAACK,MAAd,GAAuB,CAAvB;;AACA,QAAIR,MAAM,KAAK,KAAf,EAAqB;AAClB1B,MAAAA,KAAK,CAACmC,OAAN,CAAe1B,IAAD,IAAU;AACrBoB,QAAAA,aAAa,CAACG,IAAd,CAAmBb,MAAM,CAACV,IAAP,CAAYA,IAAZ,CAAnB;AACF,OAFD;AAGF;;AACD,QAAIiB,MAAM,KAAK,WAAf,EAA2B;AACxB1B,MAAAA,KAAK,CAAC0B,MAAN,CAAajB,IAAI,IAAIA,IAAI,CAACG,QAAL,KAAkB,WAAvC,EAAoDuB,OAApD,CAA6D1B,IAAD,IAAU;AACnEoB,QAAAA,aAAa,CAACG,IAAd,CAAmBb,MAAM,CAACV,IAAP,CAAYA,IAAZ,CAAnB;AACF,OAFD;AAGF;;AACD,QAAIiB,MAAM,KAAK,WAAf,EAA2B;AACzB1B,MAAAA,KAAK,CAAC0B,MAAN,CAAajB,IAAI,IAAIA,IAAI,CAACG,QAAL,KAAkB,WAAvC,EAAoDuB,OAApD,CAA6D1B,IAAD,IAAU;AAClEoB,QAAAA,aAAa,CAACG,IAAd,CAAmBb,MAAM,CAACV,IAAP,CAAYA,IAAZ,CAAnB;AACF,OAFF;AAGD;;AACD,QAAIiB,MAAM,KAAK,OAAf,EAAuB;AACpB1B,MAAAA,KAAK,CAAC0B,MAAN,CAAajB,IAAI,IAAIA,IAAI,CAACG,QAAL,KAAkB,OAAvC,EAAgDuB,OAAhD,CAAyD1B,IAAD,IAAU;AAC/DoB,QAAAA,aAAa,CAACG,IAAd,CAAmBb,MAAM,CAACV,IAAP,CAAYA,IAAZ,CAAnB;AACF,OAFD;AAGF;AACH,GAtBD;;AAwBA2B,EAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAyCC,KAAD,IAAW;AAChD,QAAIA,KAAK,CAACC,IAAN,CAAWC,QAAX,CAAoBL,QAAQ,CAACM,aAAT,CAAuB,YAAvB,CAApB,CAAJ,EAA+D;AAC5DH,MAAAA,KAAK,CAACnC,cAAN;AACA,aAAO,KAAP;AACF;;AACAgC,IAAAA,QAAQ,CAACM,aAAT,CAAuB,iBAAvB,EAA0CC,SAA1C,CAAoDC,MAApD,CAA2D,yBAA3D;AACF,GANF,EA1EY,CAkFZ;AACA;AACA;AACA;;AACAX,EAAAA,WAAW,CAACjC,KAAD,CAAX;AACA+B,EAAAA,eAAe;AAEhB,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADH,eAEG;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,QAAQ,EAAG5B,CAAD,IAAO;AAACyB,MAAAA,SAAS,CAACzB,CAAC,CAAC0C,MAAF,CAASC,KAAV,CAAT;AAA0B,KAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAQ,IAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,eAEG;AAAQ,IAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFH,eAGG;AAAQ,IAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHH,eAIG;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJH,CAFH,CADH,eAUG;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,OAAO,EAAE,MAAM;AACpDV,MAAAA,QAAQ,CAACM,aAAT,CAAuB,iBAAvB,EAA0CC,SAA1C,CAAoDI,MAApD,CAA2D,yBAA3D;AACF,KAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGA;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBtB,gBAAgB,CAACS,MAAjB,IAA2B,CAAnD,CAHA,eAIA;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,GAAG,EAAE3C,GAArC;AAA0C,IAAA,GAAG,EAAC,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJA,CADH,eAOG;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAI,IAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADH,eAEG;AAAI,IAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFH,eAGG;AAAI,IAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHH,CADN,CADA,EAQCuC,WARD,CAPH,CADH,CAVH,CADH,eAgCG;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACID,aADJ,CAhCH,CAFJ;AAuCD;;AAED,eAAeX,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport HarryPotter from \"./img/1.jpeg\";\nimport TheArtofWar from \"./img/2.jpg\";\nimport FightClub from \"./img/3.png\";\nimport Like from \"./img/like.svg\";\nimport Box from \"./img/box.png\"\n\nsetPull(() => {return data.photos.map(photo => <img className='photo' src={photo.img_src}/>)})\n\nconst BOOKS_PAGE = '1lxN9WC-43jwJhJsC6bJYK63wCNnjOvLSgEMwzrDbkMA'\nconst API_KEY = 'AIzaSyBnsI4y-0LvVLPfxRK1Iu16h-xtxKH4KRc'\nconst [books, setBooks] = useState([])\n   const getBooks = async (e) => {\n      preventDefault(e)\n      const respons = await \n         fetch(`https://sheets.googleapis.com/v4/spreadsheets/${BOOKS_PAGE}/values/Books!A2:D1000?majorDimension=ROWS&key=${API_KEY}`)\n      const data = await respons.json()\n      setBooks(() => {return data.values.map((book, index)=>{\n            id: index + 100;\n            category: book[0];\n            image: book[1];\n            heading: book[2];\n            description: book[3]\n         })}\n      )\n      console.log(books)\n      return books\n   }\n   getBooks()\n\n\nfunction App() {\n   \n   const markup = {\n      book: ({id, heading, description, image}) => {\n         return (\n            <div className=\"book-wrapper book-wrapper__grid\">\n               <div className=\"book-info\">\n                  <div className=\"book-image-wrapper\" style={{backgroundImage: `url(${image})`}}>\n                  </div>\n                  <h3 className=\"book-heading\">\n                     {heading}\n                  </h3>\n                  <div className=\"book-description\">\n                     {description}\n                  </div>\n               </div>\n               <button className=\"book-to-favorite\" dataId={id} onClick={() => setFavoritesId(prev => [...prev, id])}> \n                  <img src={Like} className=\"book-to-favorite-img\" alt=\"Add to favorite\"/>\n                  Add to favorites\n               </button>\n            </div>\n         )\n      },\n      favorites: ({id, heading, image}) => {\n         return(\n            <table className=\"favorites-books\">\n               <tr>\n                  <td className=\"favorites-img\"><img className=\"favorites-img-img\" src={image}/></td>\n                  <td className=\"favorites-name\">{heading}</td>\n                  <td className=\"favorites-del\" dataId={id} onClick={() => \n                  setFavoritesId(\n                     favoritesBooksId.filter(listedId => listedId != id),\n                     )}\n                     >X</td>\n               </tr>\n            </table>\n         )\n      }\n   } \n   \n   const [favoritesBooksId, setFavoritesId] = useState([])\n   const [filter, setFilter] = useState('all')\n   console.log(filter) // double rendering\n\n   const renderedBooks = []\n   const renderedFav = []\n   const renderFavorites = () =>{\n     renderedFav.push(favoritesBooksId.map(id => books.filter(book => book.id == id).map(book => markup.favorites(book))))\n   }\n   \n   const renderBooks = (books) => {\n      renderedBooks.length = 0\n      if (filter === 'all'){\n         books.forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter === 'adventure'){\n         books.filter(book => book.category === 'adventure').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter === 'detective'){\n        books.filter(book => book.category === 'detective').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter === 'roman'){\n         books.filter(book => book.category === 'roman').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n   }\n\n   document.body.addEventListener('click', (event) => {\n      if (event.path.includes(document.querySelector('.favorites'))) {\n         event.preventDefault();\n         return false;\n      }\n       document.querySelector('.favorites-info').classList.remove('favorites-info__visible')\n    })\n\n   // const renderFavorites = () => {\n   //    const favoritesBooks = JSON.parse(localStorage.favoritesBooks || '[]')\n   //    document.getElementsByClassName('.favorites').innerHTML = markup.favorites(favoritesBooks)\n   // }\n   renderBooks(books)\n   renderFavorites()\n\n  return(\n     \n      <div>\n         <div className=\"header\">\n            <div className=\"filters\">\n               <p>Choose what you love</p>\n               <select className=\"filter\" onChange={(e) => {setFilter(e.target.value)}}>\n                  <option value=\"all\">All that we love</option>\n                  <option value=\"adventure\">Adventures</option>\n                  <option value=\"detective\">Detectives</option>\n                  <option value=\"roman\">Romans</option>\n               </select>\n            </div>\n            <div className=\"favorites\">\n               <div className=\"heart\">\n                  <div className=\"favorites-icon-wrapper\" onClick={() => {\n                     document.querySelector('.favorites-info').classList.toggle('favorites-info__visible')\n                  }}>\n                  <div className=\"count\">{favoritesBooksId.length || 0}</div>  \n                  <img className=\"favorites-icon\" src={Box} alt=\"Favorites\" />\n               </div>\n                  <div className=\"favorites-info\">\n                  <table className=\"favorites-books\">\n                        <tr>\n                           <td className=\"favorites-img\">Photo</td>\n                           <td className=\"favorites-name\">Book title</td>\n                           <td className=\"favorites-del-header\">Del</td>\n                        </tr>\n               </table>\n                  {renderedFav} \n                  </div>\n               </div>\n            </div>\n         </div>\n         <div className=\"books-list\">\n            {renderedBooks}\n         </div>\n      </div> \n   )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}