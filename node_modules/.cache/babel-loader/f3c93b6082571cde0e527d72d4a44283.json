{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\steam\\\\OneDrive\\\\\\u0420\\u043E\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u0456\\u043B\\\\Dev\\\\rr\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport HarryPotter from \"./img/1.jpeg\";\nimport TheArtofWar from \"./img/2.jpg\";\nimport FightClub from \"./img/3.png\";\nimport Like from \"./img/like.svg\";\nimport Box from \"./img/box.png\";\nconst books = [{\n  id: 10000,\n  category: 'adventure',\n  image: HarryPotter,\n  heading: \"Harry Potter\",\n  description: 'Throughout the series, Harry is described as having his father\\'s perpetually untidy black hair, his mother\\'s bright green eyes, and a lightning bolt-shaped scar on his forehead. He is further described as \"small and skinny for his age\" with \"a thin face\" and \"knobbly knees\", and he wears round eyeglasses.'\n}, {\n  id: 10001,\n  category: 'detective',\n  image: TheArtofWar,\n  heading: \"The art of war\",\n  description: 'The Art of War is an ancient Chinese military treatise dating from the Late Spring and Autumn Period (roughly 5th century BC). The work, which is attributed to the ancient Chinese military strategist Sun Tzu (\"Master Sun\", also spelled Sunzi), is composed of 13 chapters.'\n}, {\n  id: 10002,\n  category: 'roman',\n  image: FightClub,\n  heading: \"Fight club\",\n  description: 'Fight Club is a 1996 novel by Chuck Palahniuk. It follows the experiences of an unnamed protagonist struggling with insomnia. Inspired by his doctor\\'s exasperated remark that insomnia is not suffering, the protagonist finds relief by impersonating a seriously ill person in several support groups.'\n}];\nconst markup = {\n  book: ({\n    id,\n    heading,\n    description,\n    image\n  }) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-wrapper book-wrapper__grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-image-wrapper\",\n      style: {\n        backgroundImage: `url(${image})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"book-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }\n    }, heading), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 16\n      }\n    }, description)), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"book-to-favorite\",\n      dataId: id,\n      onClick: () => {\n        const book = books.find(book => book.id === this.dataset.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Like,\n      className: \"book-to-favorite-img\",\n      alt: \"Add to favorite\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 16\n      }\n    }), \"Add to favorite\"));\n  },\n  favorites: favoritesBooks => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"favorites-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"favorites-books\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 16\n      }\n    }, favoritesBooks.map(book => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 28\n        }\n      }, book.heading), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 28\n        }\n      }, book.description), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"favorites-del\",\n        dataId: book.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 28\n        }\n      }, \"X\"));\n    })));\n  }\n};\n\nfunction App() {\n  const [filter, setFilter] = useState('all');\n  console.log(filter); // double rendering\n\n  const renderedBooks = [];\n\n  const renderBooks = books => {\n    renderedBooks.length = 0;\n\n    if (filter == 'all') {\n      books.forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter == 'adventure') {\n      books.filter(book => book.category === 'adventure').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter == 'detective') {\n      books.filter(book => book.category === 'detective').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n\n    if (filter == 'roman') {\n      books.filter(book => book.category === 'roman').forEach(book => {\n        renderedBooks.push(markup.book(book));\n      });\n    }\n  };\n\n  const renderFavorites = () => {\n    const favoritesBooks = JSON.parse(localStorage.favoritesBooks || '[]');\n    document.getElementsByClassName('.favorites').innerHTML = markup.favorites(favoritesBooks);\n    document.body.addEventListener('click', event => {\n      if (event.path.includes(document.querySelector('.favorites'))) {\n        event.preventDefault();\n        return false;\n      }\n\n      document.querySelector('.favorites-info').classList.remove('favorites-info__visible');\n    });\n  };\n\n  renderBooks(books);\n  renderFavorites();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 16\n    }\n  }, \"Choose what you love\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter\",\n    onChange: e => {\n      setFilter(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"all\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, \"All that we love\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"adventure\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, \"Adventures\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"detective\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, \"Detectives\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"roman\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, \"Romans\"))), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#books\",\n    className: \"menu-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, \"Favorites\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorites-icon-wrapper\",\n    onClick: () => {\n      document.querySelector('.favorites-info').classList.toggle('favorites-info__visible');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, favoritesBooks.length || 0), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"favorites-icon\",\n    src: Box,\n    alt: \"Favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"books-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 10\n    }\n  }, renderedBooks));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/steam/OneDrive/Робочий стіл/Dev/rr/src/App.js"],"names":["React","useState","HarryPotter","TheArtofWar","FightClub","Box","books","id","category","image","heading","description","markup","book","backgroundImage","find","dataset","Like","favorites","favoritesBooks","map","App","filter","setFilter","console","log","renderedBooks","renderBooks","length","forEach","push","renderFavorites","JSON","parse","localStorage","document","getElementsByClassName","innerHTML","body","addEventListener","event","path","includes","querySelector","preventDefault","classList","remove","e","target","value","toggle"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport HarryPotter from \"./img/1.jpeg\";\nimport TheArtofWar from \"./img/2.jpg\";\nimport FightClub from \"./img/3.png\";\nimport Like from \"./img/like.svg\";\nimport Box from \"./img/box.png\"\n\nconst books = [{\n   id: 10000,\n   category: 'adventure',\n   image: HarryPotter,\n   heading: \"Harry Potter\",\n   description: 'Throughout the series, Harry is described as having his father\\'s perpetually untidy black hair, his mother\\'s bright green eyes, and a lightning bolt-shaped scar on his forehead. He is further described as \"small and skinny for his age\" with \"a thin face\" and \"knobbly knees\", and he wears round eyeglasses.'\n}, {\n   id: 10001,\n   category: 'detective',\n   image: TheArtofWar,\n   heading: \"The art of war\",\n   description: 'The Art of War is an ancient Chinese military treatise dating from the Late Spring and Autumn Period (roughly 5th century BC). The work, which is attributed to the ancient Chinese military strategist Sun Tzu (\"Master Sun\", also spelled Sunzi), is composed of 13 chapters.'\n}, {\n   id: 10002,\n   category: 'roman',\n   image: FightClub,\n   heading: \"Fight club\",\n   description: 'Fight Club is a 1996 novel by Chuck Palahniuk. It follows the experiences of an unnamed protagonist struggling with insomnia. Inspired by his doctor\\'s exasperated remark that insomnia is not suffering, the protagonist finds relief by impersonating a seriously ill person in several support groups.'\n}\n]\n\n  const markup = {\n     book: ({id, heading, description, image}) => {\n        return (\n        <div className=\"book-wrapper book-wrapper__grid\">\n           <div className=\"book-info\">\n               <div className=\"book-image-wrapper\" style={{backgroundImage: `url(${image})`}}>\n               </div>\n               <h3 className=\"book-heading\">\n                  {heading}\n               </h3>\n               <div className=\"book-description\">\n                  {description}\n               </div>\n            </div>\n            <button className=\"book-to-favorite\" dataId={id} onClick={() => {const book = books\n                                                .find((book) => book.id === this.dataset.id)}}>\n               <img src={Like} className=\"book-to-favorite-img\" alt=\"Add to favorite\"/>\n               Add to favorite\n            </button>\n         </div>\n        )\n     },\n     favorites: (favoritesBooks) => {\n        return(\n            <div className=\"favorites-info\">\n               <table className=\"favorites-books\">\n                  {favoritesBooks.map((book) => {\n                     return (\n                        <tr>\n                           <td className=\"favorites-name\">{book.heading}</td>\n                           <td className=\"favorites-desc\">{book.description}</td>\n                           <td className=\"favorites-del\" dataId={book.id}>X</td>\n                        </tr>\n                     )\n                  })}\n               </table>\n            </div>\n        )\n     }\n  }\n\n  \n\nfunction App() {\n\n   const [filter, setFilter] = useState('all')\n\n   console.log(filter) // double rendering\n   const renderedBooks = []\n\n   const renderBooks = (books) => {\n      renderedBooks.length = 0\n      if (filter == 'all'){\n         books.forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter == 'adventure'){\n         books.filter(book => book.category === 'adventure').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter == 'detective'){\n        books.filter(book => book.category === 'detective').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n      if (filter == 'roman'){\n         books.filter(book => book.category === 'roman').forEach((book) => {\n            renderedBooks.push(markup.book(book))\n         })\n      }\n   }\n\n   const renderFavorites = () => {\n      const favoritesBooks = JSON.parse(localStorage.favoritesBooks || '[]')\n      document.getElementsByClassName('.favorites').innerHTML = markup.favorites(favoritesBooks)\n\n      document.body.addEventListener('click', (event) => {\n         if (event.path.includes(document.querySelector('.favorites'))) {\n            event.preventDefault();\n            return false;\n         }\n          document.querySelector('.favorites-info').classList.remove('favorites-info__visible')\n       })\n   }\n   \n   renderBooks(books)\n   renderFavorites()\n\n   \n\n  return(\n     \n      <div>\n         <div className=\"header\">\n            <div className=\"filters\">\n               <p>Choose what you love</p>\n               <select className=\"filter\" onChange={(e) => {setFilter(e.target.value)}}>\n                  <option value=\"all\">All that we love</option>\n                  <option value=\"adventure\">Adventures</option>\n                  <option value=\"detective\">Detectives</option>\n                  <option value=\"roman\">Romans</option>\n               </select>\n            </div>\n            <nav className=\"menu\">\n                  <a href=\"#books\" className=\"menu-item\">Favorites</a>\n               </nav>\n            <div className=\"favorites\">\n               <div className=\"heart\">\n                  <div className=\"favorites-icon-wrapper\" onClick={() => {\n                     document.querySelector('.favorites-info').classList.toggle('favorites-info__visible')\n                  }}>\n                  <div className=\"count\">{favoritesBooks.length || 0}</div>   \n                  <img className=\"favorites-icon\" src={Box} alt=\"Favorites\" />\n               </div>\n                  {}\n               </div>\n            </div>\n         </div>\n         <div className=\"books-list\">\n            {renderedBooks}\n         </div>\n      </div> \n   )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}